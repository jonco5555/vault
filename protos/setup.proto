syntax = "proto3";

import "google/protobuf/empty.proto";

package vault;

service SetupMaster {
    rpc SetupRegister(SetupRegisterRequest) returns (SetupRegisterResponse);
    rpc SetupUnregister(SetupUnregisterRequest) returns (SetupUnregisterResponse);
}


enum ServiceType {
    SHARE_SERVER = 0;
    BOOSTRAP_SERVER = 1;
}

message SetupRegisterRequest {
    ServiceType type = 1;
    string container_id = 2;
    string ip_address = 3;
    bytes public_key = 4;
}

message SetupRegisterResponse {
    bool is_registered = 1;
}

message SetupUnregisterRequest {
    string container_id = 1;
}

message SetupUnregisterResponse {
    bool is_unregistered = 1;
}

service SetupUnit {
    rpc Terminate(google.protobuf.Empty) returns (google.protobuf.Empty);
}
